# JSON Key Replacer

This Python script allows you to replace specific keys in a JSON document with new values. It recursively searches through the JSON structure (both dictionaries and lists) to locate all occurrences of the target key, presents them to the user, and allows for an interactive selection of which occurrence to update.

## Usage

To use this script, run it from the command line with the following arguments:

```
./replace_json_key_values.py <filename> <key_to_replace>
```

Where:
- `<filename>` is the path to your JSON file.
- `<key_to_replace>` is the key whose value you want to replace in the JSON document.

### Example

```sh
./replace_json_key_values.py data.json name
```

After running this command, you will be prompted to enter the new value for the specified key. The script will then check if the provided value is valid JSON and perform the replacement interactively, showing you all instances of the key in the document.

### Requirements

- Python 3.x

## How It Works

1. **File Check**: The script first checks if the provided filename exists.
2. **JSON Validation**: It reads the file and validates that its content is a valid JSON.
3. **Key Search**: Recursively searches through the JSON structure for all occurrences of the specified key.
4. **Interactive Replacement**: Prompts you to enter a new value and allows you to select which occurrence of the key you want to replace.
5. **Output**: Saves the modified JSON to a new file with a "new_" prefix added to the original filename.

## Example

Given a `data.json` file:

```json
{
    "name": "John Doe",
    "details": {
        "name": "Jane Smith"
    },
    "list": [
        {"name": "Alice"},
        {"name": "Bob"}
    ]
}
```

Running the script with:

```
./replace_json_key_values.py data.json name
```

You will be prompted to enter a new value for `name`. After selecting which occurrence of `name` you want to change, it saves the result in `new_data.json`.

```
./replace_json_key_values.py data.json name
Enter the new value for key 'name': "Jake"
Found the following instances of key 'name':
1. name
2. details>name
3. list>[0]>name
4. list>[1]>name
Enter the number of the key to replace (or 0 to cancel): 4
Modified JSON saved to 'new_data.json'
```
## License

Â©2025, Ovais Quraishi
(90% of this doc was generated by PHI4 LLM served locally by Ollama)
